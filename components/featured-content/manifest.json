{
  "$schema": "http://localhost:3000/schemas/v1.json#",
  "name": "featured-content",
  "version": "0.0.4",
  "namespace": "stanford-components",
  "description": "",
  "displayName": "Featured content",
  "mainFunction": "main",
  "environment": [
    {
      "name": "CONTENT_API",
      "required": true
    },
    {
      "name": "CONTENT_API_KEY",
      "required": true
    },
    {
      "name": "FB_JSON_URL",
      "required": true
    }
  ],
  "icon": {
    "id": "auto_awesome_mosaic",
    "color": {
      "type": "enum",
      "value": "blue"
    }
  },
  "functions": [
    {
      "name": "main",
      "entry": "./dist/server.js",
      "input": {
        "type": "object",
        "required": [],
        "properties": {
          "headingConfiguration": {
            "title": "Section Heading Configuration",
            "description": "The heading for the section, appearing before the grid of cards. If the title is empty, the heading and call to action link will be hidden.",
            "type": "object",
            "required": [],
            "properties": {
              "title": {
                "title": "Heading",
                "type": "string"
              },
              "ctaText": {
                "title": "Link text",
                "type": "string",
                "default": "View all"
              },
              "ctaUrl": {
                "title": "Link URL",
                "type": "string"
              }
            }
          },
          "contentConfiguration": {
            "title": "Grid Content",
            "description": "The cards to display in the grid area of the component. The featured card appears larger than the supplementary cards. When manually selecting cards, at least two must be selected for the grid to display.",
            "type": "object",
            "required": ["source"],
            "properties": {
              "source": {
                "title": "Content source",
                "default": "Search",
                "enum": ["Search", "Select"],
                "type": "string"
              }
            },
            "allOf": [
              {
                "if": {
                  "required": [],
                  "properties": {
                    "source": {
                      "const": "Search"
                    }
                  }
                },
                "then": {
                  "required": ["searchUrl", "searchQuery"],
                  "properties": {
                    "searchUrl": {
                      "type": "string",
                      "title": "The Funnelback search JSON endpoint",
                      "default": ""
                    },
                    "searchQuery": {
                      "type": "string",
                      "title": "The Funnelback search query",
                      "default": "?"
                    }
                  }
                }
              },
              {
                "if": {
                  "required": [],
                  "properties": {
                    "source": {
                      "const": "Select"
                    }
                  }
                },
                "then": {
                  "required": ["featured", "supporting_01", "supporting_02"],
                  "properties": {
                    "featured": {
                      "type": "string",
                      "title": "Select Featured content <SquizLink>"
                    },
                    "featuredDescription": {
                      "type": "string",
                      "title": "Featured Content description"
                    },
                    "supporting_01": {
                      "type": "string",
                      "title": "Select the first supporting feature <SquizLink>"
                    },
                    "supporting_02": {
                      "type": "string",
                      "title": "Select the second supporting feature <SquizLink>"
                    }
                  }
                }
              }
            ]
          },
          "displayConfiguration": {
            "title": "Grid Display Configuration",
            "type": "object",
            "required": [],
            "properties": {
              "alignment": {
                "title": "Featured Card: Alignment",
                "description": "The position of the featured card on larger screens.",
                "default": "left",
                "enum": ["left", "right"]
              },
              "displayThumbnails": {
                "title": "Display Supplementary Thumbnails",
                "default": true,
                "type": "boolean"
              },
              "displayDescriptions": {
                "title": "Display Supplementary Descriptions",
                "default": true,
                "type": "boolean"
              }
            }
          }
        }
      },
      "output": {
        "responseType": "html",
        "staticFiles": [
          {
            "location": "header",
            "file": {
              "type": "css",
              "filepath": "main.css"
            }
          },
          {
            "location": "header",
            "file": {
              "type": "js",
              "filepath": "https://unpkg.com/react@18/umd/react.production.min.js"
            }
          },
          {
            "location": "header",
            "file": {
              "type": "js",
              "filepath": "https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"
            }
          },
          {
            "location": "footer",
            "file": {
              "type": "js",
              "filepath": "client.js"
            }
          }
        ]
      }
    }
  ],
  "staticFiles": {
    "locationRoot": "./dist"
  },
  "previews": {
    "default": {
      "functionData": {
        "main": {
          "inputData": {
            "type": "file",
            "path": "preview.data.json"
          },
          "wrapper": {
            "path": "../../packages/__globalPreview/preview.html"
          }
        }
      }
    }
  }
}
