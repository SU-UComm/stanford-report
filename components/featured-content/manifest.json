{
  "$schema": "http://localhost:3000/schemas/v1.json#",
  "name": "featured-content",
  "version": "0.0.5",
  "namespace": "stanford-components",
  "description": "",
  "displayName": "Featured content",
  "mainFunction": "main",
  "environment": [
    {
      "name": "API_IDENTIFIER",
      "required": true
    },
    {
      "name": "FB_JSON_URL",
      "required": true
    }
  ],
  "icon": {
    "id": "auto_awesome_mosaic",
    "color": {
      "type": "enum",
      "value": "blue"
    }
  },
  "functions": [
    {
      "name": "main",
      "entry": "./dist/server.js",
      "input": {
        "type": "object",
        "required": [],
        "properties": {
          "headingConfiguration": {
            "title": "Section Heading Configuration",
            "description": "The heading for the section, appearing before the grid of cards. If the title is empty, the heading and call to action link will be hidden.",
            "type": "object",
            "required": [],
            "properties": {
              "title": {
                "title": "Heading",
                "type": "string"
              },
              "ctaText": {
                "title": "Link text",
                "type": "string",
                "default": "View all"
              },
              "ctaUrl": {
                "title": "Link URL",
                "type": "string"
              }
            }
          },
          "contentConfiguration": {
            "title": "Grid Content",
            "description": "The cards to display in the grid area of the component. The featured card appears larger than the supplementary cards. When manually selecting cards, at least three must be selected for the grid to display.",
            "type": "object",
            "required": ["source"],
            "properties": {
              "source": {
                "title": "Content source",
                "default": "Search",
                "enum": ["Search", "Select"],
                "type": "string"
              }
            },
            "allOf": [
              {
                "if": {
                  "required": [],
                  "properties": {
                    "source": {
                      "const": "Search"
                    }
                  }
                },
                "then": {
                  "required": ["searchQuery"],
                  "properties": {
                    "searchQuery": {
                      "type": "string",
                      "title": "The Funnelback search query",
                      "default": "?"
                    }
                  }
                }
              },
              {
                "if": {
                  "required": [],
                  "properties": {
                    "source": {
                      "const": "Select"
                    }
                  }
                },
                "then": {
                  "required": [],
                  "properties": {
                    "cards": {
                      "title": "Cards",
                      "description": "Select the assets that will be used for cards. The first card selected will be the featured card.",
                      "type": "array",
                      "minItems": 3,
                      "maxItems": 3,
                      "items": {
                        "type": "object",
                        "properties": {
                          "cardAsset": {
                            "type": "string",
                            "format": "matrix-asset-uri",
                            "title": "Card Asset"
                          }
                        },
                        "required": ["cardAsset"]
                      }
                    },
                    "featuredDescription": {
                      "type": "string",
                      "title": "Featured Content description",
                      "description": "If filled out, it will replace the description of the featured card (first)."
                    }
                  }
                }
              }
            ]
          },
          "displayConfiguration": {
            "title": "Grid Display Configuration",
            "type": "object",
            "required": [],
            "properties": {
              "alignment": {
                "title": "Featured Card: Alignment",
                "description": "The position of the featured card on larger screens.",
                "default": "left",
                "enum": ["left", "right"]
              },
              "displayThumbnails": {
                "title": "Display Supplementary Thumbnails",
                "default": true,
                "type": "boolean"
              },
              "displayDescriptions": {
                "title": "Display Supplementary Descriptions",
                "default": true,
                "type": "boolean"
              }
            }
          }
        }
      },
      "output": {
        "responseType": "html",
        "staticFiles": [
          {
            "location": "header",
            "file": {
              "type": "css",
              "filepath": "main.css"
            }
          },
          {
            "location": "header",
            "file": {
              "type": "js",
              "filepath": "https://unpkg.com/react@18/umd/react.production.min.js"
            }
          },
          {
            "location": "header",
            "file": {
              "type": "js",
              "filepath": "https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"
            }
          },
          {
            "location": "footer",
            "file": {
              "type": "js",
              "filepath": "client.js"
            }
          }
        ]
      }
    }
  ],
  "staticFiles": {
    "locationRoot": "./dist"
  },
  "mockedUris": {
    "matrix-asset://api-identifier/89422": {
      "type": "file",
      "path": "mocked-uris/89422.json"
    },
    "matrix-asset://api-identifier/89430": {
      "type": "file",
      "path": "mocked-uris/89430.json"
    },
    "matrix-asset://api-identifier/89426": {
      "type": "file",
      "path": "mocked-uris/89426.json"
    },
    "matrix-asset://api-identifier/99100": {
      "type": "file",
      "path": "mocked-uris/99100.json"
    },
    "matrix-asset://api-identifier/125800": {
      "type": "file",
      "path": "mocked-uris/125800.json"
    },
    "matrix-asset://api-identifier/125801": {
      "type": "file",
      "path": "mocked-uris/125801.json"
    },
    "matrix-asset://api-identifier/28192": {
      "type": "file",
      "path": "mocked-uris/28192.json"
    },
    "matrix-asset://api-identifier/28205": {
      "type": "file",
      "path": "mocked-uris/28205.json"
    }
  },
  "previews": {
    "default": {
      "functionData": {
        "main": {
          "inputData": {
            "type": "file",
            "path": "select.data.json"
          },
          "wrapper": {
            "path": "../../packages/__globalPreview/preview.html"
          }
        }
      }
    },
    "select": {
      "functionData": {
        "main": {
          "inputData": {
            "type": "file",
            "path": "select.data.json"
          },
          "wrapper": {
            "path": "../../packages/__globalPreview/preview.html"
          }
        }
      }
    },
    "search": {
      "functionData": {
        "main": {
          "inputData": {
            "type": "file",
            "path": "search.data.json"
          },
          "wrapper": {
            "path": "../../packages/__globalPreview/preview.html"
          }
        }
      }
    }
  }
}
